apiVersion: v1
kind: ConfigMap
metadata:
  name: harvester-config
  namespace: rm
data:
  config.yaml: |-
    redis:
      host: data-access-redis-master
      port: 6379
    harvesters:
      - name: Creodias-Opensearch
        endpoint:
          url: https://finder.creodias.eu/resto/api/collections/Sentinel2/describe.xml
          type: OpenSearch
          format_config:
            type: 'application/json'
            property_mapping:
              start_datetime: 'startDate'
              end_datetime: 'completionDate'
              product_identifier: 'productIdentifier'
          query:
            time:
              property: sensed
              begin: 2020-09-01T00:00:00Z
              end: 2020-09-30T00:00:00Z
            collection: null
            geometry: POLYGON((19.73498641685951 39.98614980399418,21.872748471463865 41.64701901442541,27.345419331251023 42.00808949795507,28.514062587768066 35.71196958826687,24.324048960743525 33.910124327630584,19.13641304157029 37.85755312300991,19.73498641685951 39.98614980399418))
          filter: {}
          provider: harvester_eoepca.provider.CREODIASOpenSearchSentinel2Provider
        queue: register_queue
